HTTP/1.1 200 OK
Server: nginx
Date: Sat, 18 Apr 2020 16:09:28 GMT
Content-Type: text/html; charset=UTF-8
Transfer-Encoding: chunked
Connection: close
Vary: Accept-Encoding
X-Pingback: http://www.z2727c.com/index.php/action/xmlrpc

7630
<!DOCTYPE HTML>
<html class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Z2727C </title>

    <!-- 使用url函数转换相关路径 -->
    <link rel="stylesheet" href="//cdnjscn.b0.upaiyun.com/libs/normalize/2.1.3/normalize.min.css">
    <link rel="stylesheet" href="http://www.z2727c.com/usr/themes/default/grid.css">
    <link rel="stylesheet" href="http://www.z2727c.com/usr/themes/default/style.css">

    <!--[if lt IE 9]>
    <script src="//cdnjscn.b0.upaiyun.com/libs/html5shiv/r29/html5.min.js"></script>
    <script src="//cdnjscn.b0.upaiyun.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- 通过自有函数输出HTML头部信息 -->
    <meta name="description" content="zyc vegetable garden" />
<meta name="keywords" content="typecho,php,blog" />
<meta name="generator" content="Typecho 1.1/17.10.30" />
<meta name="template" content="default" />
<link rel="pingback" href="http://www.z2727c.com/index.php/action/xmlrpc" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.z2727c.com/index.php/action/xmlrpc?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.z2727c.com/index.php/action/xmlrpc?wlw" />
<link rel="alternate" type="application/rss+xml" title="Z2727C  &raquo; RSS 2.0" href="http://www.z2727c.com/index.php/feed/" />
<link rel="alternate" type="application/rdf+xml" title="Z2727C  &raquo; RSS 1.0" href="http://www.z2727c.com/index.php/feed/rss/" />
<link rel="alternate" type="application/atom+xml" title="Z2727C  &raquo; ATOM 1.0" href="http://www.z2727c.com/index.php/feed/atom/" />
<style type="text/css">.testat-dialog{position:fixed;top:100px;left:50%;padding:10px;background-color:#fff;display:none;-webkit-border-radius: 3px;-moz-border-radius: 3px;border-radius: 3px;z-index:1024;}
.testat-dialog.error{background-color:#f40;color:#fff;}
.testat-dialog.success{background-color:#24AA42;color:#fff;}</style><script type="text/javascript">window.action="http://www.z2727c.com/index.php/action/";</script></head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->

<header id="header" class="clearfix">
    <div class="container">
        <div class="row">
            <div class="site-name col-mb-12 col-9">
                            <a id="logo" href="http://www.z2727c.com/">Z2727C </a>
        	    <p class="description">zyc vegetable garden</p>
                        </div>
            <div class="site-search col-3 kit-hidden-tb">
                <form id="search" method="post" action="http://www.z2727c.com/" role="search">
                    <label for="s" class="sr-only">搜索关键字</label>
                    <input type="text" id="s" name="s" class="text" placeholder="输入关键字搜索" />
                    <button type="submit" class="submit">搜索</button>
                </form>
            </div>
            <div class="col-mb-12">
                <nav id="nav-menu" class="clearfix" role="navigation">
                    <a class="current" href="http://www.z2727c.com/">首页</a>
                                                            <a href="http://www.z2727c.com/index.php/start-page.html" title="关于">关于</a>
                                    </nav>
            </div>
        </div><!-- end .row -->
    </div>
</header><!-- end #header -->
<div id="body">
    <div class="container">
        <div class="row">

    
    

<div class="col-mb-12 col-8" id="main" role="main">
	        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
			<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="http://www.z2727c.com/index.php/archives/14/">For viewers from Xapian</a></h2>
			<ul class="post-meta">
				<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.z2727c.com/index.php/author/1/" rel="author">zyc</a></li>
				<li>时间: <time datetime="2020-04-01T02:30:00+08:00" itemprop="datePublished">2020-04-01</time></li>
				<li>分类: <a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li>
				<li itemprop="interactionCount"><a itemprop="discussionUrl" href="http://www.z2727c.com/index.php/archives/14/#comments">评论</a></li>
			</ul>
            <div class="post-content" itemprop="articleBody">
    			<p>Hi,</p><p>Sorry for this site is not in English, and I have not run any public social media actively. <br>I built it for merely a week, just for recording what I have learned.<br>In case you would like to know more about me, I attached my CV in this article.</p><p><a href="http://www.z2727c.com/usr/uploads/2020/04/1683638129.pdf">CV - Zhang Yuchen.pdf</a></p><p>Thanks!<br>Best Regards,<br>Zhang Yuchen</p>            </div>
        </article>
	        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
			<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="http://www.z2727c.com/index.php/archives/9/">GSOC idea - Matcher Optimisations #215 Boolean OR could be optimised further 解读</a></h2>
			<ul class="post-meta">
				<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.z2727c.com/index.php/author/1/" rel="author">zyc</a></li>
				<li>时间: <time datetime="2020-03-25T20:08:00+08:00" itemprop="datePublished">2020-03-25</time></li>
				<li>分类: <a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li>
				<li itemprop="interactionCount"><a itemprop="discussionUrl" href="http://www.z2727c.com/index.php/archives/9/#comments">评论</a></li>
			</ul>
            <div class="post-content" itemprop="articleBody">
    			<h1><a href="https://trac.xapian.org/wiki/GSoCProjectIdeas#Project:MatcherOptimisations">Project: Matcher Optimisations</a></h1><h2><a href="https://trac.xapian.org/ticket/215">Boolean OR could be optimized further</a></h2><h3>翻译和解读</h3><blockquote><p>For a boolean OR of several terms, we don't care how many of the terms<br>match - we just care whether any of them do. Therefore, when we find<br>that one of the terms matches, we shouldn't waste effort trying to move<br>the other posting lists to the same position.</p></blockquote><p>对于针对一个词集的OR操作，我们并不在乎【想得到的文档】到底与词集中的具体哪些<strong>词</strong>匹配————我们只在乎【这些文档】是否与其中任何一个词匹配。也就是说，比如我们在一个orPL上调用next()，我们只需要其返回其某一个子树next()的结果，我们不关心接下来的子树中是否也存在这个docid。<br>因此。当我们在某个子PL上调用next()，然后发现其中有一个词(对应PL中的某个文档)匹配的时候：<br>我们会更新该词对应PL的当前位置为该docid————然后我们就不必再尝试在其它子PL上调用next()并更新对应PL的当前位置了。</p><blockquote><p>Instead, we should hold the posting lists in order of termfrequency,<br>highest termfrequency first. To perform a skip_to() operation with ID<br>"minid", we'd call skip_to(minid) on each of the sub-postlists until<br>one of them moved to minid. At that point, there would be no need to<br>call skip_t() on the remaining sub-postlists.</p></blockquote><p>我们应该保持该词集所对应PL按词频从高到底排序（就是说，所含文档数多的PL在左，所含文档数少的PL在右）<br>当我们执行skip_to()函数并传入“minid”，PL会递归地依次在其子PL上调用skip_to(minid)<br>当其中一个子postlist成功将当前位置指向minid，此时，我们不需要再在剩余的子PL上调用skip_to(minid)了</p><blockquote><p>We'd need to keep track of which sub-postlists have been moved up to<br>the current position, and which haven't. When next() is called, we'd<br>call next() on any sub-postlists which are up-to-date, but we would<br>need to call skip_to() on any other sub-postlists which are further<br>behind.</p></blockquote><p>我们需要记住这些剩余的子PL，它们是没有更新的，所以它们的当前位置是落后于其父PL的当前位置的，父PL的当前位置，已经更新成前面那个更新了的子PL的当前位置了。<br>于是当next()被调用时，鉴于这些没有更新的子PL<br>我们会递归地<br>在“已经被搬到当前位置(up-to-date)”的子PL上调用next()<br>在“没有被搬到当前位置(are further behind)”的子PL上调用skip_to()</p><blockquote><p>We could implement this by introducing special BooleanOrPostingList to<br>handle this particular case.</p><p>I'm not sure that it would lead to much improvement for common cases,<br>but it is easy to make up cases where it would make a huge improvement<br>(eg, a boolean OR in which one of the terms is a MatchAll term - none<br>of the other postlists would need to be moved in this case.)</p></blockquote><p>本优化应该是在BoolOrPostList中实现的，<br>这个PostList和普通的OrPostList的本质不同在于：<br>首先它不考虑权值<br>其次它采用多叉树，不一定是二叉的<br>目前，BoolOrPostList尚未采用该优化</p></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br><p class="more"><a href="http://www.z2727c.com/index.php/archives/9/" title="GSOC idea - Matcher Optimisations #215 Boolean OR could be optimised further 解读">- 阅读剩余部分 -</a></p>            </div>
        </article>
	        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
			<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="http://www.z2727c.com/index.php/archives/8/">搜索学习笔记 - Xapian::PostingSource Class Reference (abstract)</a></h2>
			<ul class="post-meta">
				<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.z2727c.com/index.php/author/1/" rel="author">zyc</a></li>
				<li>时间: <time datetime="2020-03-25T19:43:00+08:00" itemprop="datePublished">2020-03-25</time></li>
				<li>分类: <a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li>
				<li itemprop="interactionCount"><a itemprop="discussionUrl" href="http://www.z2727c.com/index.php/archives/8/#comments">评论</a></li>
			</ul>
            <div class="post-content" itemprop="articleBody">
    			<h1>典型数据成员</h1><p>OrPostList数据结构<br>OrPostList都是二叉树。</p><pre><code>//【子PL】
//指向左右子PL的指针
PostList* l;//指向左子PL。
PostList* r;//指向右子PL。
//左右子PL的最大匹配权值
double l_max = 0;
double r_max = 0; 

//【当前文档位置 Current Position】
//对于orPL，不保存本PL的当前位置，只保存左右子PL的当前位置
//获取本PL当前位置get_docid() 直接返回min_non_zero(l_did, r_did);
//对于叶子PL呢？OrPostList不可能是叶子PL，叶子PL定义在backends/leafpostlist
Xapian::docid l_did = 0;
Xapian::docid r_did = 0;
</code></pre><pre><code>//数据库总量(指这颗树下的文档数)
Xapian::doccount db_size;
//指向所属PL树根
PostListTree* pltree;
</code></pre><p>MultiAndPostList数据结构<br>Xapian中AndPostList(应该)是采用多叉树的方式，所以只有MultiAndPostList。</p><pre><code>//【子PL】
//子PL个数
size_t n_kids;
//指向所有子PL的指针数组
PostList ** plist;
//子PL中的最大匹配权值
double * max_wt;
//Total maximum weight (== sum of max_wt values).
double max_total;

///【当前文档位置 Current Position】
//当前docid，与orPL不同，andPL直接保存自己的当前docid
//还未开始匹配或at_end时，取0.
Xapian::docid did;
</code></pre><hr><h1>重要函数成员</h1><h2><a href="https://xapian.org/docs/apidoc/html/classXapian_1_1PostingSource.html#a150c4c07ff4e959f448dd8cf840968e8">next()</a></h2><p>找到并用<strong>当前位置</strong>指向下一个匹配的文档。<br>//当前位置是一个docid<br>//对于虚PL，不保存自己的当前位置，只记录左右子枝的当前位置，其当前位置为动态判断左右子枝当前位置的非0较小值<br>//实PL，肯定是有一个列表，这个当前位置可以直接引用对应文档。<br>传入匹配门槛最小权值w_min，根据功能该值可能被利用或忽略。</p><h2><a href="https://xapian.org/docs/apidoc/html/classXapian_1_1PostingSource.html#acf18a9328d8e46c3a759a3a120009607">skip_to()</a></h2><p>更新的数据结构：<br>l_did = l-&gt;get_docid();</p><p>传入Xapian::docid did，前进当前位置到指定文档。<br>最简单的默认实现方式是不断call next()函数，直到当前位置是指定文档，但也有更高效的实现方式。</p><blockquote><p>If the specified docid isn't in the list, position ourselves on the first document after it (or at_end() if no greater docids are present).<br>If the current position is already the specified docid, this method will leave the position unmodified.<br>If the specified docid is earlier than the current position, the behavior is unspecified. A sensible behavior would be to leave the current position unmodified, but it is also reasonable to move to the specified docid.</p></blockquote><p>如果指定文档不在此pl中，就指向当前文档的下一个文档，如果没有更大的docid了，就at_end()。<br>如果当前位置已经指向该文档，就什么都不用做。<br>如果指定文档位置先于当前位置，本函数行为根据特定实现不定。可能保持不变也可能回退到指定文档的位置。</p><h2><a href="https://xapian.org/docs/apidoc/html/classXapian_1_1PostingSource.html#a964696f90b6485bf3c931ccf4546a273">check()</a></h2><pre><code>virtual bool Xapian::PostingSource::check    (Xapian::docid did, double min_wt)</code></pre><p>检查指定docid是否确实存在于数据库(指这一整棵PL树下所有的文档)中。<br>如果是，则必须(将)移动到该文档id，并返回true。</p><p>一些具体实现阅读理解:</p><pre><code>PostList* AndMaybePostList::next(double w_min)
{//w_min是要求的最小权值，pl_max是pl中最大权值*Current max weight from WrapperPostList's pl.
 //如果要求的最小权值门槛大于能提供的最大权值，则必须通过合并才有可能通过门槛，于是转变为AND操作[matcher doc - operator decay][4]
    if (w_min &gt; pl_max)
    return decay_to_and(max(pl_did, r_did) + 1, w_min);
    PostList* result = pl-&gt;next(w_min - r_max);
    if (result) {
    delete pl;
    pl = result;
    }
    if (pl-&gt;at_end()) {
    result = pl;
    pl = NULL;
    pltree-&gt;force_recalc();
    return result;
    }

    pl_did = pl-&gt;get_docid();
    if (pl_did &gt; r_did) {
    bool r_valid;
    result = r-&gt;check(pl_did, w_min - pl_max, r_valid);
    if (result) {
        delete r;
        r = result;
    }
    if (!r_valid)
        return NULL;
    if (r-&gt;at_end()) {
        result = pl;
        pl = NULL;
        pltree-&gt;force_recalc();
        return result;
    }
    r_did = r-&gt;get_docid();
    }
    return NULL;
}
</code></pre>            </div>
        </article>
	        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
			<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="http://www.z2727c.com/index.php/archives/5/">搜索学习笔记  -  Xapian的Matcher </a></h2>
			<ul class="post-meta">
				<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.z2727c.com/index.php/author/1/" rel="author">zyc</a></li>
				<li>时间: <time datetime="2020-03-24T11:41:00+08:00" itemprop="datePublished">2020-03-24</time></li>
				<li>分类: <a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li>
				<li itemprop="interactionCount"><a itemprop="discussionUrl" href="http://www.z2727c.com/index.php/archives/5/#comments">评论</a></li>
			</ul>
            <div class="post-content" itemprop="articleBody">
    			<p><a href="https://xapian.org/docs/matcherdesign.html">ref : Xapian - Matcher design notes</a><br><hr></p><h2>树结构</h2><p>The <strong>QueryOptimiser</strong> class builds a tree structure of PostList objects from the query. At the leaf level, a PostList object is created for each term, and for other leaf-level subqueries, like PostingSource objects and value ranges.<br>QueryOptimiser 类根据一次查询创建一个以PostList对象为结点的树结构。<br><strong>叶子结点层</strong>的PostList对应一个term或者其他叶级子查询(eg:PostingSource对象/值范围)<br><strong>非叶子结点层</strong>的PostList是虚PostList，对应的是OR,AND等操作(比如MultiAndPostList, OrPostList, etc)；层层把PostList连接成二叉树或n叉树。</p><h2>通过树结构进行匹配 - 基本</h2><p>匹配过程中，Matcher维护一个posting(doc_id)组成的<strong>M集</strong>(proto-mset,原型M集)，代表匹配的文档集<br>这个M集有大小限制，其中每个文档有对应的匹配分数，满员的情况下，只有&gt;最后一名分数才能引起Matcher的"兴趣"。<br>树结构建立之后，Matcher不断询问根节点获得下一匹配文件，然后考虑加入M集。<br>当一个PostList结点认定自己之下没有文档足够匹配，它返回"at end"信号。<br>当matcher收到postlist树的根节点发出的"at end"信号的时候，匹配过程结束。</p><h2>AND和OR - 虚PostList结点的具体操作</h2><p><a href="https://nlp.stanford.edu/IR-book/html/htmledition/processing-boolean-queries-1.html#1258">ref: stanford.nlp - Processing Boolean queries</a><br>定义：虚PostList结点的文档=其操作对子树返回的posting-lists进行相应交/并处理后的结果。</p><ul><li>对于多路AND操作，我们以从低频(短列)到高频(长列)的顺序检查posting-list，这样可以最小化判断的次数，同时最大化the size of each skip_to。</li><li>而对于OR树，则是返回左右子树的并集，只有左右子树都返回空集的时候才返回空集。OR树效率的最大化，是通过依靠类哈夫曼树的构造方式实现的，拥有越长posting-list(词频高)的叶结点越靠近根结点，词频越小则越远离。</li><li>所以一个AND结点收到其左子树的"at end"信号，说明左子树返回posting-list为空，那么无需等待右子树结果就可断定自己的返回值也是空集，可以<strong>直接发出“at end”信号</strong>。</li><li>而当OR结点收到左子树返回的"at end"信号而右子树并未发出"at end"时，它会自动<strong>用右子树替换自己</strong>。</li></ul><h2>通过树结构进行匹配 - 传入最小权重值</h2><h3>理解文档和PostList之间的匹配度：</h3><p>假如我们搜索一个句子，包含很多单词，构造的postlist tree的每个叶结点就是这个目标句子中的每一个单词(+对应posting list)，对于某个匹配的文档，他可能并不完全包含这个句子，可能只是其中的一部分词，而这些词每一个都为该文档贡献了与这句话的匹配度权重，叠加起来使该文档的总匹配度超过门槛。</p><p>一个pl的匹配度其实是其中文档的匹配度的集合，是一个范围，一个文档在一个pl中的匹配度是一个确切值。一个pl对应一个词语(叶结点)或是一个词集附加逻辑关系(虚pl)，一个文档在一个pl中的匹配度，就是针对它与该pl所代表文本的匹配度。</p><p>两个pl不论是AND/OR 操作，新pl中的文档，其新权重为在原两pl中分别所得权重之和。<strong>就像是参加两个不同比赛项目，都赚到了权重，那么合并时就像累计奖牌一样加起来。</strong>AND 和 OR的区别只是哪些posting会进入新pl而已。<br>如果是AND操作，则新pl中所有文档的新权重都是原来两边分别所得权重之和。<br>如果是OR操作，新pl中可能会有文档只在原来一个pl中出现，在另一pl中所得权重看作0，所以只出现一次的文档新权重不变。</p><h3>如何判断返回的posting list是否足够匹配？</h3><p>matcher会将所需匹配值门槛传给根节点，随后，每个结点都会处理、修正这个权重值为子树分配门槛值。每个结点可以汇报一个它至少可以提供的最小权重，如果一个AND操作的左子树汇报它至少提供2的权重，则该AND结点会要求右子树至少提供4的权重(返回的posting list匹配度达到4)。</p><p>举个例子，一个OR操作知道它的左子树最多提供4的权重值，知道它的右子树最多提供7，那么。</p><ul><li>如果它被要求给出的最小权重值是8，则只对其左右子树都匹配的文档是interesting的(4,7&lt;8&lt;4+7),这时它就转变为一个AND操作。</li><li>如果它被要求给出的最小权重值是6，那么它就转变为一个AND_MAYBE操作()，4&lt;6&lt;7，右子树中的文档还是有可能在不出现在左子树pl的情况下进入新pl。</li><li>如果所要求的最小权重值是12，那么4+7&lt;12，没有文档足够匹配，于是OR操作返回 "end of list"</li></ul><h2>操作结点的转化 operator decay</h2><p>匹配器会追踪一个文档进入m-set 所需的最小权重，该值随着m-set的形成单调递减。这可以被用于替换上更严格的布尔运算符。比如，A OR B的情况，当maxweight(A) &lt; minweight 且 maxweight(B) &lt; minweight 那么只有既匹配 A又匹配B的文档才可以进入m-set所以我们此时可以把OR操作符换成(退化成)AND操作符。使用与autoprune相同的机制标记操作符衰减，方法是从next或skip_to返回替换操作符。</p><blockquote><p>Possible decays:</p><pre><code>OR → AND
OR → ANDMAYBE
ANDMAYBE → AND
XOR → ANDNOT</code></pre><p>A related optimisation is that the Match object may terminate early if maxweight for the whole tree is less than the smallest weight in the mset.</p></blockquote><p>另一个相关的优化措施是，如果整个树的最大权重值比mset中的最小权重小的话，Match对象可以提前终止。</p>            </div>
        </article>
	        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
			<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="http://www.z2727c.com/index.php/archives/4/">Ubuntu配置xapian过程中遇到的问题</a></h2>
			<ul class="post-meta">
				<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="http://www.z2727c.com/index.php/author/1/" rel="author">zyc</a></li>
				<li>时间: <time datetime="2020-03-24T06:43:45+08:00" itemprop="datePublished">2020-03-24</time></li>
				<li>分类: <a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li>
				<li itemprop="interactionCount"><a itemprop="discussionUrl" href="http://www.z2727c.com/index.php/archives/4/#comments">评论</a></li>
			</ul>
            <div class="post-content" itemprop="articleBody">
    			<pre><code>*  ./bootstrap 执行项目根目录下的bootstrap脚本
</code></pre><pre><code>        报错：bash: ./bootstrap: /bin/sh^M: bad interpreter: No such file or directory
        可能原因：脚本文件是DOS格式的, 即每一行的行尾以\r\n来标识(确认方法：vim 打开脚本文件 :set ff? 查看文件格式，显示fileformat=dot)
            可能原因：可能由于项目是前先下载到了本机，是在windows环境下解压的。
        解决：
            如果文件只读，chmod a+w [filename]将脚本文件改为可写
            vim 打开后 :set ff=unix 保存关闭
        ※ref: https://blog.csdn.net/esther0401/article/details/7361496  https://www.runoob.com/linux/linux-comm-chmod.html

        报错：执行bootstrap脚本过程中，遇到
                  Resolving github-production-release-asset-2e65be.s3.amazonaws.com (github-production-release-asset-2e65be.s3.amazonaws.com)... failed: Name or service not known.
                  wget: unable to resolve host address ‘github-production-release-asset-2e65be.s3.amazonaws.com’
        猜测可能和墙有关</code></pre><p>于是开启全局模式，无效<br>于是修改host文件<br>vim /etc/hosts    添加 54.231.98.184 github-com.s3.amazonaws.com<br>添加这一行之后，仍然有报错<br>Resolving github.com (github.com)... failed: Name or service not known.<br>wget: unable to resolve host address ‘github.com’<br>查到wget:unable to resolve …  可认为是DNS解析的问题。<br>解决：</p><p>看到域名服务器指配置了nameserver 127.0.0.53，等于只有本地域名服务器<br>添加域名服务器<br>nameserver 8.8.8.8 #google域名服务器<br>nameserver 8.8.4.4 #google域名服务器<br>※ref:  <a href="https://www.cnblogs.com/yiwd/p/3649109.html">https://www.cnblogs.com/yiwd/p/3649109.html</a></p><p>报错：<br>解决网络问题后执行bootstrap脚本仍然有报错<br>Applying patches from automake/series<br>Applying patch automake/msvc-support-tweaks.patch<br>: No such file26: ./bootstrap: cannot open ../../patches/automake/msvc-support-tweaks.patch<br>可能和第一个报错是同个原因， 如果确定文件存在，执行却报错误：no such file or directory一般都是因为文本的编码格式不同，也就是说这个文件是从windows或者其他系统上面上传过来的。<br>改了这个文件的格式还是不行，然后检查了一下发现项目各个文件很多都是dos格式<br>批量改格式的方法有(见ref)，但是也不是很省事，一个教训是以后真的不要先在不同的环境下下载项目了!!!!<br>重新在目的目录直接git clone之后这类问题都没有出现</p>            </div>
        </article>
	
    <ol class="page-navigator"><li class="current"><a href="http://www.z2727c.com/index.php/page/1/">1</a></li><li><a href="http://www.z2727c.com/index.php/page/2/">2</a></li><li class="next"><a href="http://www.z2727c.com/index.php/page/2/">后一页 &raquo;</a></li></ol></div><!-- end #main-->

<div class="col-mb-12 col-offset-1 col-3 kit-hidden-tb" id="secondary" role="complementary">
        <section class="widget">
		<h3 class="widget-title">最新文章</h3>
        <ul class="widget-list">
            <li><a href="http://www.z2727c.com/index.php/archives/14/">For viewers from Xapian</a></li><li><a href="http://www.z2727c.com/index.php/archives/9/">GSOC idea - Matcher Optimisations #215 Boolean OR could be optimised further 解读</a></li><li><a href="http://www.z2727c.com/index.php/archives/8/">搜索学习笔记 - Xapian::PostingSource Class Reference (abstract)</a></li><li><a href="http://www.z2727c.com/index.php/archives/5/">搜索学习笔记  -  Xapian的Matcher </a></li><li><a href="http://www.z2727c.com/index.php/archives/4/">Ubuntu配置xapian过程中遇到的问题</a></li><li><a href="http://www.z2727c.com/index.php/archives/3/">建站笔记 : 迷你vps + 宝塔Linux + typecho + s*r</a></li><li><a href="http://www.z2727c.com/index.php/archives/1/">欢迎使用 Typecho</a></li>        </ul>
    </section>
    
        <section class="widget">
		<h3 class="widget-title">最近回复</h3>
        <ul class="widget-list">
                            <li><a href="http://www.z2727c.com/index.php/archives/1/#comment-1">Typecho</a>: 欢迎加入 Typecho 大家族</li>
                </ul>
    </section>
    
        <section class="widget">
		<h3 class="widget-title">分类</h3>
        <ul class="widget-list"><li class="category-level-0 category-parent"><a href="http://www.z2727c.com/index.php/category/default/">默认分类</a></li></ul>	</section>
    
        <section class="widget">
		<h3 class="widget-title">归档</h3>
        <ul class="widget-list">
            <li><a href="http://www.z2727c.com/index.php/2020/04/">April 2020</a></li><li><a href="http://www.z2727c.com/index.php/2020/03/">March 2020</a></li>        </ul>
	</section>
    
    	<section class="widget">
		<h3 class="widget-title">其它</h3>
        <ul class="widget-list">
                            <li class="last"><a href="http://www.z2727c.com/admin/login.php">登录</a></li>
                        <li><a href="http://www.z2727c.com/index.php/feed/">文章 RSS</a></li>
            <li><a href="http://www.z2727c.com/index.php/feed/comments/">评论 RSS</a></li>
            <li><a href="http://www.typecho.org">Typecho</a></li>
        </ul>
	</section>
    
</div><!-- end #sidebar -->

        </div><!-- end .row -->
    </div>
</div><!-- end #body -->

<footer id="footer" role="contentinfo">
    &copy; 2020 <a href="http://www.z2727c.com/">Z2727C </a>.
    由 <a href="http://www.typecho.org">Typecho</a> 强力驱动.
</footer><!-- end #footer -->

<script type="text/javascript">
$(function(){
	$('.btn-like').click(function(e){
		e.stopPropagation();
		e.preventDefault();
		var that = $(this),num = $(this).data('num'), cid = $(this).data('cid'),numEl = that.find('.post-likes-num');
		if(cid===undefined) return false;
		$.get(window.action+'likes?cid='+cid).success(function(rs){
			if(rs.status==1){
				if(numEl.length>0){
					numEl.text(num+1);
				}
				testatAlert(rs.msg===undefined ? '已成功为该文章点赞!' : rs.msg);
			}else{
				testatAlert(rs.msg===undefined ? '操作出错!' : rs.msg,'err');
			}
		});
	});
});
function testatAlert(msg,type,time){
	type = type === undefined ? 'success' : 'error';
	time = time === undefined ? (type=='success' ? 1500 : 3000) : time;
	var html = '<div class="testat-dialog '+type+'">'+msg+'</div>';
	$(html).appendTo($('body')).fadeIn(300,function(){
		setTimeout(function(){
			$('body > .testat-dialog').remove();
		},time);
	});
}
</script></body>
</html>

0

